{% extends 'base.html.twig' %}


{% block body %}
    <div class="user-form-container">

        {# affichage errors #}
        {% if error_msg|length > 0 %}

            <div class="error-container alert alert-danger">
                {% for error in error_msg %}
                    {{ error.message  }} <br />
                {% endfor %}
            </div>
        {% endif %}

        {# affichage succes #}
        {% if success %}
            <div class="success-container alert alert-success">
                Les changements ont été enregistrés.
            </div>
        {% endif %}

        {{ form_start(form, {'attr': {'role': 'form', 'id': 'user-edit-form'} }) }}

            <div class="form-group">
                {{ form_widget(form.mail)  }}
            </div>

            <div class="form-group">
                {{ form_widget(form.lastname)  }}
            </div>

            <div class="form-group">
                {{ form_widget(form.firstname)  }}
            </div>

            <div class="form-group">
                {{ form_widget(form.phone)  }}
            </div>


            {% if form.roles is defined %}
                <div class="form-group">
                    {{ form_widget(form.roles)  }}
                </div>
            {% endif %}

            <div id="password-group">
                <div class="description">Saisissez votre mot de passe actuel pour changer votre mot de passe.</div>
                <div class="form-group">
                    {{ form_widget(form.oldPassword)  }}
                </div>

                <div class="form-group">
                    {{ form_widget(form.password.first)  }}
                    <div class="description">Utilisez au moins 6 caractères</div>
                    {{ form_widget(form.password.second)  }}
                </div>

            </div>

            <div class="form-group text-center">
                {{ form_row(form.submit) }}
            </div>


        {{ form_widget(form._token) }}
        {{ form_end(form) }}
    </div>
{% endblock %}
